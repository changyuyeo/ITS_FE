@import 'foundation/all';
@import '../mixins/button';

.#{$prefix}btn {
	// colors
	--#{$prefix}btn-color: var(--#{$prefix}btn-color);
	--#{$prefix}btn-bg: var(--#{$prefix}btn-bg);
	--#{$prefix}btn-bg-hover: var(--#{$prefix}btn-bg-hover);
	--#{$prefix}btn-bg-active: var(--#{$prefix}btn-bg-active);
	--#{$prefix}btn-border-color: var(--#{$prefix}btn-border-color);

	// sizes
	--#{$prefix}btn-font-size: var(--#{$prefix}btn-font-size);
	--#{$prefix}btn-padding-x: var(--#{$prefix}btn-padding-x);
	--#{$prefix}btn-padding-y: var(--#{$prefix}btn-padding-y);
	--#{$prefix}btn-border-radius: var(--#{$prefix}btn-border-radius);

	// etc...
	--#{$prefix}btn-cursor: var(--#{$prefix}btn-cursor, map-get($btn-cursor-list, 'click'));

	// base
	--#{$prefix}btn-font-family: #{$btn-font-family};
	--#{$prefix}btn-font-weight: #{$btn-font-weight};
	--#{$prefix}btn-line-height: #{$btn-line-height};
	--#{$prefix}btn-border-width: #{$btn-border-width};
	--#{$prefix}btn-border-style: #{$btn-border-style};
	--#{$prefix}btn-box-shadow: #{$btn-box-shadow};
	--#{$prefix}btn-disabled-opacity: #{$btn-disabled-opacity};
	--#{$prefix}btn-transition: #{$btn-transition};

	@include flex-center();
	background-color: var(--#{$prefix}btn-bg);
	border-radius: var(--#{$prefix}btn-border-radius);
	color: var(--#{$prefix}btn-color);
	cursor: var(--#{$prefix}btn-cursor);
	font-family: var(--#{$prefix}btn-font-family);
	font-weight: var(--#{$prefix}btn-font-weight);
	line-height: var(--#{$prefix}btn-line-height);
	padding: var(--#{$prefix}btn-padding-y) var(--#{$prefix}btn-padding-x);
	transition: var(--#{$prefix}btn-transition);

	&:hover {
		background-color: var(--#{$prefix}btn-bg-hover);
	}

	&:active {
		background-color: var(--#{$prefix}btn-bg-active);
	}

	&--full-size {
		width: 100%;
	}

	&--disabled {
		--#{$prefix}btn-cursor: map-get($btn-cursor-list, 'disabled');
	}

	&--loading {
		--#{$prefix}btn-cursor: map-get($btn-cursor-list, 'loading');
	}

	&--disabled,
	&--loading {
		opacity: var(--#{$prefix}btn-disabled-opacity);

		&:hover,
		&:active {
			transform: none;
		}
	}
}

@each $theme, $value in $btn-theme {
	.#{$prefix}btn--type-#{$theme}-fill {
		@include button-theme(
			if($theme == 'gray', $gray-900, $white),
			map-get($btn-theme, $theme),
			map-get($btn-theme-hover, $theme),
			map-get($btn-theme-outline-hover, $theme),
			none
		);
		border: 0;
	}

	.#{$prefix}btn--type-#{$theme}-outline {
		@include button-theme(
			$value,
			$white,
			map-get($btn-theme-outline-hover, $theme),
			map-get($btn-theme-outline-active, $theme),
			$value
		);
		border: var(--#{$prefix}btn-border-width)
			var(--#{$prefix}btn-border-style)
			var(--#{$prefix}btn-border-color);
	}
}

@each $size, $value in $btn-font-size {
	.#{$prefix}btn--size-#{$size} {
		@include button-size($value, map-get($btn-paddings-x, $size), map-get($btn-paddings-y, $size));
	}
}

@each $shape, $value in $btn-shape-list {
	.#{$prefix}btn-shape-#{$shape} {
		@include button-shape($value);
	}
}
