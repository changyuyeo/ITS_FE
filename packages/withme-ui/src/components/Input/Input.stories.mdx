import { Meta, Story, Canvas, ArgsTable, Source } from '@storybook/addon-docs'
import Input from './Input'
import Text from '../Text'
import { XCircle } from '@with-me/icons'
import '@with-me/style/dist/global.css'

<Meta title="components/Input" component={Input} />

export const Template = args => (
	<Input placeholder='값을 입력해주세요.' {...args} />
)

# Input

&lt;Input /&gt; 컴포넌트 사용법 정리

```ts
// Input 타입 정의
interface InputProps {
	error?: boolean; // default: false
	errorMsg?: string;
	password?: boolean; // defalut: false
	prefix?: ReactNode;
	size?: 'sm' | 'base' | 'lg'; // defalut: 'base'
	suffix?: ReactNode;
}
```
<br />

## size

- `size` 속성을 이용해서 Input 컴포넌트의 크기로 설정할 수 있습니다.

<Canvas>
	<Story 
		name="size" 
		decorators={
			[storyFn => 
				<div style={{
					width: '100%',
					display: 'flex',
					flexDirection: 'column',
					gap: '12px'
				}}>
					{storyFn()}
				</div>
			]
		}>
		<Input size="sm" placeholder="값을 입력해주세요." />
		<Input size="base" placeholder="값을 입력해주세요." />
		<Input size="lg" placeholder="값을 입력해주세요."  />
	</Story>
</Canvas>

<br />

## prefix와 suffix

- `prefix`, `suffix`를 이용해서 Input 컴포넌트의 접두사와 접미사를 만들 수 있습니다.
- 글자 수 표시, 아이콘 등의 표현을 할 때 유용합니다.

<Canvas>
	<Story name="prefix, suffix">
		<Input prefix={<Text size="sm">ID</Text>} placeholder="입력해주세요." />
		<Input suffix={<Text size="sm">0/10</Text>} placeholder="입력해주세요." />
		<Input prefix={<XCircle fill="#777" />} placeholder="입력해주세요." />
		<Input suffix={<XCircle fill="#777" />} placeholder="입력해주세요." />
		<Input prefix={<Text size="sm">PW</Text>} suffix={<XCircle fill="#777" />} placeholder="입력해주세요." />
	</Story>
</Canvas>

<br />

## password

- `password` 속성을 설정하면 password 모드가 적용됩니다.
- 비밀번호 등 암호화가 필요한 데이터를 입력받을 때 유용합니다.
- 오른쪽 아이콘을 이용해서 가려진 비밀번호를 볼 수 있습니다.

<Canvas>
	<Story name="password">
		<Input password placeholder="비밀번호를 입력해주세요."  />
	</Story>
</Canvas>

<br />

## error, errorMsg

- `error`가 발생할 때 input 컴포넌트에서 에러 애니메이션을 발생합니다.
- error속성과 함께 `errorMsg`를 사용해주시면 에러가 났을 때 해당 애러문구를 보여줍니다.

<Canvas>
	<Story name="error, errorMsg">
		<Input error errorMsg="8자 이상입력해주세요!" placeholder="비밀번호를 입력해주세요."  />
	</Story>
</Canvas>

<br />

## Playground

자유롭게 컨트롤 해보세요!

<Canvas>
	<Story
		name="playground"
		argTypes={{
			onBlur: {
				table: {
					disable: true
				}
			},
			onFocus: {
				table: {
					disable: true
				}
			},
			style: {
				table: {
					disable: true
				}
			},
			className: {
				table: {
					disable: true
				}
			},
			type: {
				table: {
					disable: true
				}
			},
			placeholder: {
				description: 'placeholder',
				type: 'string',
				control: 'text'
			}
		}}
	>
		{Template.bind({})}
	</Story>
</Canvas>

<ArgsTable story="playground" />
